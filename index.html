<!DOCTYPE html>
<html lang="en">
<head>

<script>
//redirect to get the parameters
try{
console.log('redirect');
window.location.replace('https://c-orta.github.io/?key=key&value=value');
} catch(error){console.log('not working)};

// console.log('redirect');
// window.location.replace('https://c-orta.github.io/?key=key&value=value');

        

</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6SFMGG52EH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6SFMGG52EH');
</script>


<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P42CPVX8');</script>
<!-- End Google Tag Manager -->




<script>
  //Part 2 Code

function testAPI(){
  console.log('this is working');
}
  
</script>

</head>


<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P42CPVX8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



<h3>
This is for my assessment.
</h3>

<h4>
This is for part 1: <br>
</h4>

<h5> 
1. Implement Google Tag Manager on your website site. <br>
2. Load your website with the following query string parameter: ?key=key&value=value  E.g. https://mysite.com?key=key&value=value
<br>
3. Add functionality to push the key and value to the GTM data layer.
<br>

------------------------------------------------------------------------------------------------------------------ <br>



1. Done <br>
2. Done <br>
3. In Progress <br>


------------------------------------------------------------------------------------------------------------------ <br>
</h5>
  
<h4>API Implementation </h4> <br>

<h5>
1. Add a button to your page that sends a GET API request using http://httpbin.org/ <br>

2. The API call should use the query string parameters stored in the GTM data layer (from task 1) as key-value pairs sent to the GET request.  E.g. https://httpbin.org/get?key=key&value=value <br>

3. Log the response in the console. <br>

</h5>

<button type='button' onclick='testAPI()'> CLICK HERE for 2.1  </button>
</body>
